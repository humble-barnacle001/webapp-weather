class UI{constructor(){this.mainDetails=document.getElementById("details"),this.country=document.getElementById("w-location-country"),this.location=document.getElementById("w-location"),this.desc=document.getElementById("w-desc"),this.temp=document.getElementById("w-temp"),this.tempUnit=document.querySelectorAll(".w-temp-unit"),this.feels=document.getElementById("w-feels-like"),this.humidity=document.getElementById("w-humidity"),this.wind=document.getElementById("w-wind"),this.updated=document.getElementById("w-last-updated"),this.alert=document.getElementById("top-alert"),this.alertDesc=document.getElementById("top-alert-desc"),this.detDay=document.getElementById("w-det-day"),this.detWind=document.getElementById("w-det-wind"),this.detUV=document.getElementById("w-det-uv"),this.detVis=document.getElementById("w-det-vis"),this.detSR=document.getElementById("w-det-sr"),this.detSS=document.getElementById("w-det-ss"),this.detMR=document.getElementById("w-det-mr"),this.detMS=document.getElementById("w-det-ms"),this.whichDay=["today","tomorrow","day after tomorrow"]}paint(t,e){this.mainDetails.classList.add("hide"),this.country.textContent=t.location.country,this.location.textContent=`${t.location.name}${""===t.location.region?"":`, ${t.location.region}`}`,window.innerWidth<400&&(this.location.textContent.length>17?(this.location.classList.add("h4"),this.location.classList.remove("h2")):(this.location.classList.remove("h4"),this.location.classList.add("h2"))),this.desc.textContent=t.current.condition.text,this.changeTmpUnit(e.tempUnit,t),this.humidity.textContent=t.current.humidity,this.wind.textContent=`From the ${t.current.wind_dir} at ${t.current.wind_kph} KMPH upto speeds of ${t.current.gust_kph} KMPH`,this.updated.textContent=new Date(t.current.last_updated).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short",hour12:!0}),this.mainDetails.classList.remove("hide");for(let e=0;e<3;e++)document.getElementById(`w-rep-${e}`).setAttribute("src",t.forecast.forecastday[e].day.condition.icon),document.getElementById(`w-desc-${e}`).textContent=t.forecast.forecastday[e].day.condition.text,document.getElementById(`w-rain-amt-${e}`).textContent=t.forecast.forecastday[e].day.totalprecip_mm,document.getElementById(`w-rain-percent-${e}`).textContent=t.forecast.forecastday[e].day.daily_chance_of_rain,document.getElementById(`w-humidity-${e}`).textContent=t.forecast.forecastday[e].day.avghumidity}paintDetails(t,e){this.detDay.textContent=this.whichDay[e],this.detWind.textContent=t.forecast.forecastday[e].day.maxwind_kph,this.detUV.textContent=t.forecast.forecastday[e].day.uv,this.detVis.textContent=t.forecast.forecastday[e].day.avgvis_km,this.detSR.textContent=t.forecast.forecastday[e].astro.sunrise,this.detSS.textContent=t.forecast.forecastday[e].astro.sunset,this.detMR.textContent=t.forecast.forecastday[e].astro.moonrise,this.detMS.textContent=t.forecast.forecastday[e].astro.moonset}paintAlert(t){halfmoon.initStickyAlert({content:"Reset to previous viewed city!",title:`No city named "${t}" found!!`,alertType:"alert-danger",fillType:"filled",hasDismissButton:!0,timeShown:1e4})}closeAlert(){this.alert.classList.add("hide")}changeTmpUnit(t,e){if("C"===t){this.temp.textContent=this.tempFormatter(e.current.temp_c),this.tempUnit.forEach((t=>t.textContent="C")),this.feels.textContent=this.tempFormatter(e.current.feelslike_c),document.getElementById("unitC").checked=!0;for(let t=0;t<3;t++)document.getElementById(`w-temp-avg-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.avgtemp_c),document.getElementById(`w-temp-min-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.mintemp_c),document.getElementById(`w-temp-max-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.maxtemp_c)}else{this.temp.textContent=this.tempFormatter(e.current.temp_f),this.tempUnit.forEach((t=>t.textContent="F")),this.feels.textContent=this.tempFormatter(e.current.feelslike_f),document.getElementById("unitF").checked=!0;for(let t=0;t<3;t++)document.getElementById(`w-temp-avg-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.avgtemp_f),document.getElementById(`w-temp-min-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.mintemp_f),document.getElementById(`w-temp-max-${t}`).textContent=this.tempFormatter(e.forecast.forecastday[t].day.maxtemp_f)}}resetSrchUI(){document.getElementById("city").value="",document.getElementById("srchSugg").innerHTML="",document.getElementById("searchAlert").classList.add("hide")}tempFormatter(t){return Math.round(t)}}
