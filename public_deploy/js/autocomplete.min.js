class Autocomplete{constructor(){this.srchQ=document.getElementById("city"),this.suggUI=document.getElementById("srchSugg"),this.alert=document.getElementById("searchAlert")}getResults(){""!=this.srchQ.value?this.suggestion(this.srchQ.value).then((t=>{let s="";t.count>0?(this.srchQ.classList.remove("is-invalid"),this.alert.classList.add("hide"),t._embedded["city:search-results"].forEach((t=>{s+=`<p class="m-0 p-10 border rounded" data-link="${t._links["city:item"].href}">${t.matching_full_name}</p>`}))):(s="",this.srchQ.classList.add("is-invalid"),this.alert.classList.remove("hide")),this.suggUI.innerHTML=s})).catch((t=>console.warn(`AUTO COMPLETE DIDN'T WORK ${t}`))):this.suggUI.innerHTML=""}async suggestion(t){const s=await fetch(`https://api.teleport.org/api/cities/?search=${t}`);return await s.json()}async getcityName(t){const s=await fetch(t);return await s.json()}}
